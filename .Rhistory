git config --global
load("~/Documents/language-and-emotion/01_data/primary data/eye tracking data/joint_data_l2_trimmed.rda")
View(joint.data)
colnames(joint.data)
rm(list = ls())
library(ggplot2)
library(tidyverse)
library(psych)
library(xtable)
install.packages("tidyverse")
install.packages("tidyverse")
install.packages("ggplot2")
rm(list = ls())
rm(list = ls())
library(ggplot2)
library(tidyverse)
rm(list = ls())
library(ggplot2)
library(tidyverse)
uninstall.packages("tidyverse")
update.packages("tidyverse")
library(tidyverse)
library(tidyverse)
library(psych)
library(xtable)
inlibrary(cowplot)
######## read data ###########
load("01_data/primary data/eye tracking data/joint_data_l2_trimmed.rda")
joint.data = joint.data[joint.data$dur > 80 | is.na(joint.data$dur)==T,]
View(joint.data)
crit = joint.data %>%
group_by(lang, uniform_id) %>%
summarise(dur.crit = quantile(dur, 0.99, na.rm = T))
update.packages(ggplot2)
update.packages(ggplot)
install.packages("ggplot2")
install.packages("ggplot2")
library(ggplot2)
crit = joint.data %>%
group_by(lang, uniform_id) %>%
summarise(dur.crit = quantile(dur, 0.99, na.rm = T))
library(ggplot2)
library(tidyverse)
library(psych)
library(ggplot2)
library(xtable)
######## read data ###########
load("01_data/primary data/eye tracking data/joint_data_l2_trimmed.rda")
joint.data = joint.data[joint.data$dur > 80 | is.na(joint.data$dur)==T,]
crit = joint.data %>%
group_by(lang, uniform_id) %>%
summarise(dur.crit = quantile(dur, 0.99, na.rm = T))
View(joint.data)
unique(joint.data$cond)
unique(joint.data$dur)
unique(joint.data$trialid)
unique(joint.data$itemid)
unique(joint.data$trial)
unique(joint.data$blink)
unique(joint.data$uniform_id)
unique(joint.data$sub_id)
unique(joint.data$subid)
knitr::opts_chunk$set(echo = TRUE)
load("01_data/primary data/eye tracking data/joint_data_l2_trimmed.rda")
getwd()
load("01_data/primary data/eye tracking data/joint_data_l2_trimmed.rda")
load("01_data/primary data/eye tracking data/joint_data_l2_trimmed.rda")
load("01_data/primary data/eye tracking data/joint_data_l2_trimmed.rda")
setwd("~/Documents/language-and-emotion/03_Rmd")
load("01_data/primary data/eye tracking data/joint_data_l2_trimmed.rda")
setwd("~/Documents/language-and-emotion/03_Rmd")
getwd()
setwd(..)
knitr::opts_chunk$set(echo = TRUE)
load("01_data/primary data/eye tracking data/joint_data_l2_trimmed.rda")
knitr::opts_chunk$set(echo = TRUE)
getwd()
setwd(/Users/nataliehennig/Documents/language-and-emotion)
setwd(Users/nataliehennig/Documents/language-and-emotion)
getwd()
knitr::opts_chunk$set(echo = TRUE)
load("01_data/primary data/eye tracking data/joint_data_l2_trimmed.rda")
load("/Users/nataliehennig/Documents/language-and-emotion/01_data/primary data/eye tracking data/joint_data_l2_trimmed.rda")
load("01_data/primary data/eye tracking data/joint_data_l2_trimmed.rda")
getwd()
install.packages("here")
knitr::opts_chunk$set(echo = TRUE)
here::i_am("Documents/language-and-emotion")
getwd()
here::i_am("Documents/language-and-emotion")
here::i_am("../Documents/language-and-emotion")
here::i_am("03_Rmd/Preprocessing.Rmd")
load("01_data/primary data/eye tracking data/joint_data_l2_trimmed.rda")
library(here)
load("01_data/primary data/eye tracking data/joint_data_l2_trimmed.rda")
here::i_am("03_Rmd/Preprocessing.Rmd")
library(here)
load("01_data/meco L2/primary data/eye tracking data/joint_data_l2_trimmed.rda")
here("01_data", "meco L2", "primary data","eye tracking data","joint_data_l2_trimmed.rda")
load("01_data/meco L2/primary data/eye tracking data/joint_data_l2_trimmed.rda")
load(joint_data_l2_trimmed.rda)
load(here("01_data", "meco L2", "primary data","eye tracking data","joint_data_l2_trimmed.rda"))
View(joint.data)
library(dplyr)
install.packages("dplyr")
library(dplyr)
eye_table <- joint.data %>% select(uniform_id, subid, lang, itemid, ianum, ia, skip, nfix, refix, dur, firstrun.dur, firstrun.gopast, firstrun.gopast.sel)
View(eye_table)
knitr::opts_chunk$set(echo = TRUE)
here::i_am("03_Rmd/Preprocessing.Rmd")
library(here)
library(dplyr)
load(here("01_data", "meco L2", "primary data","eye tracking data","joint_data_l2_trimmed.rda"))
eye_table <- joint.data %>% select(uniform_id, subid, lang, itemid, ianum, ia, skip, nfix, refix, dur, firstrun.dur, firstrun.gopast, firstrun.gopast.sel)
View(eye_table)
eye_table %>% rename("participant_id" = "uniform_id", "textnr" = "itemid", "tokenindex" = "ianum", "token"="ia")
View(eye_table)
eye_table <- joint.data %>% select(uniform_id, lang, itemid, ianum, ia, skip, nfix, refix, dur, firstrun.dur, firstrun.gopast, firstrun.gopast.sel)
View(eye_table)
eye_table %>% rename("participant_id" = "uniform_id", "textnr" = "itemid", "tokenindex" = "ianum", "token"="ia")
eye_table %>% group_by("textnr") %>% arrange("tokenindex")
eye_table %>% rename("participant_id" = "uniform_id", "textnr" = "itemid", "tokenindex" = "ianum", "token"="ia") %>% group_by("textnr") %>% arrange("tokenindex")
eye_table %>% rename("participant_id" = "uniform_id", "textnr" = "itemid", "tokenindex" = "ianum", "token"="ia")
eye_table <- eye_table %>% rename("participant_id" = "uniform_id", "textnr" = "itemid", "tokenindex" = "ianum", "token"="ia")
View(eye_table)
eye_table %>% group_by("textnr") %>% arrange("tokenindex")
eye_table %>% group_by("textnr")
eye_table %>% group_by("textnr", "participant_id")
eye_table %>% group_by(textnr, participant_id)
eye_table %>% group_by(textnr, participant_id) %>% arrange(tokenindex)
eye_table %>% group_by(textnr, participant_id) %>% arrange(tokenindex, .by_group = TRUE)
eye_table <- eye_table %>% group_by(textnr, participant_id) %>% arrange(tokenindex, .by_group = TRUE)
unique(eyetable, "participant_id")
unique(eye_table$participant_id)
textlength <- eye_table %>% group_by(textnr, participant_id) %>% summarise(length=n(), .groups = "drop")
textlength
textlength %>% unique(length)
textlength %>% unique(textlength$length)
textlength %>% unique("length")
unique(textlength$length)
View(textlength)
unique(textlength$textnr)
View(joint.data)
eye_table[duplicated(eye_table)]
eye_table %>% distinct()
eye_table %>% distinct() %>% unique(textlength$length)
eye_table
eye_table <- eye_table %>% group_by(textnr, participant_id) %>% arrange(tokenindex, .by_group = TRUE) %>% distinct()
textlength <- eye_table %>% group_by(textnr, participant_id) %>% summarise(length=n(), .groups = "drop")
unique(textlength$textnr)
unique(textlength$length)
textlength <- eye_table %>% group_by(textnr, participant_id) %>% summarise(length=n())
textlength
textlength <- eye_table %>% group_by(textnr, participant_id) %>% summarise(length=n().groups = "drop")
textlength <- eye_table %>% group_by(textnr, participant_id) %>% summarise(length=n(), .groups = "drop")
textlength
union(textlength$textnr, textlength$length)
unique(textlength$textnr, textlength$length)
x <- nr = textlength$textnr, tok = textlength$length
x <- data_frame(nr = textlength$textnr, tok = textlength$length)
x <- tibble(nr = textlength$textnr, tok = textlength$length)
x
x %>% distinct()
x %>% distinct() %>% arrange(nr)
x %>% distinct() %>% sort(nr)
x %>% distinct() %>% sort()
x <- tibble(nr = textlength$textnr, tok = textlength$length) %>% distinc() %>% order(nr)
x <- tibble(nr = textlength$textnr, tok = textlength$length) %>% distinct() %>% order(nr)
x <- tibble(nr = textlength$textnr, tok = textlength$length) %>% distinct() %>% order()
text1 <- subset(eye_table, subset = textnr == "1")
text1
load("~/Documents/language-and-emotion/01_data/meco L2/auxiliary files/materials/texts.meco.l2.rda")
View(d)
knitr::opts_chunk$set(echo = TRUE)
here::i_am("03_Rmd/Preprocessing.Rmd")
library(here)
library(dplyr)
load(here("01_data", "meco L2", "primary data","eye tracking data","joint_data_l2_trimmed.rda"))
eye_table <- joint.data %>% select(uniform_id, lang, itemid, ianum, ia, skip, nfix, refix, dur, firstrun.dur, firstrun.gopast, firstrun.gopast.sel)
eye_table <- eye_table %>% rename("participant_id" = "uniform_id", "textnr" = "itemid", "tokenindex" = "ianum", "token"="ia")
eye_table <- eye_table %>% group_by(textnr, participant_id) %>% arrange(tokenindex, .by_group = TRUE) %>% distinct()
textlength <- eye_table %>% group_by(textnr, participant_id) %>% summarise(length=n(), .groups = "drop")
text1 <- subset(eye_table, subset = textnr == "1")
text2 <- subset(eye_table, subset = textnr == "2")
text3 <- subset(eye_table, subset = textnr == "3")
text4 <- subset(eye_table, subset = textnr == "4")
text5 <- subset(eye_table, subset = textnr == "5")
text6 <- subset(eye_table, subset = textnr == "6")
text7 <- subset(eye_table, subset = textnr == "7")
text8 <- subset(eye_table, subset = textnr == "8")
text9 <- subset(eye_table, subset = textnr == "9")
text10 <- subset(eye_table, subset = textnr == "10")
text11 <- subset(eye_table, subset = textnr == "11")
text12 <- subset(eye_table, subset = textnr == "12")
View(text12)
knitr::opts_chunk$set(echo = TRUE)
here::i_am("03_Rmd/Preprocessing.Rmd")
library(here)
library(dplyr)
load(here("01_data", "meco L2", "primary data","eye tracking data","joint_data_l2_trimmed.rda"))
eye_table <- joint.data %>% select(uniform_id, lang, itemid, ianum, ia, skip, nfix, refix, dur, firstrun.dur, firstrun.gopast, firstrun.gopast.sel, firstfix.dur)
eye_table <- eye_table %>% rename("participant_id" = "uniform_id", "textnr" = "itemid", "tokenindex" = "ianum", "token"="ia")
eye_table <- eye_table %>% group_by(textnr, participant_id) %>% arrange(tokenindex, .by_group = TRUE) %>% distinct()
textlength <- eye_table %>% group_by(textnr, participant_id) %>% summarise(length=n(), .groups = "drop")
text1 <- subset(eye_table, subset = textnr == "1")
text2 <- subset(eye_table, subset = textnr == "2")
text3 <- subset(eye_table, subset = textnr == "3")
text4 <- subset(eye_table, subset = textnr == "4")
text5 <- subset(eye_table, subset = textnr == "5")
text6 <- subset(eye_table, subset = textnr == "6")
text7 <- subset(eye_table, subset = textnr == "7")
text8 <- subset(eye_table, subset = textnr == "8")
text9 <- subset(eye_table, subset = textnr == "9")
text10 <- subset(eye_table, subset = textnr == "10")
text11 <- subset(eye_table, subset = textnr == "11")
text12 <- subset(eye_table, subset = textnr == "12")
View(eye_table)
install.packages("reticulate")
reticulate::repl_python()
knitr::opts_chunk$set(echo = TRUE)
here::i_am("03_Rmd/Preprocessing.Rmd")
library(here)
library(dplyr)
library(reticulate)
load(here("01_data", "meco L2", "primary data","eye tracking data","joint_data_l2_trimmed.rda"))
eye_table <- joint.data %>% select(uniform_id, lang, itemid, ianum, ia, skip, nfix, refix, dur, firstrun.dur, firstrun.gopast, firstrun.gopast.sel, firstfix.dur)
eye_table <- eye_table %>% rename("participant_id" = "uniform_id", "textnr" = "itemid", "tokenindex" = "ianum", "token"="ia")
eye_table <- eye_table %>% group_by(textnr, participant_id) %>% arrange(tokenindex, .by_group = TRUE) %>% distinct()
textlength <- eye_table %>% group_by(textnr, participant_id) %>% summarise(length=n(), .groups = "drop")
text1 <- subset(eye_table, subset = textnr == "1")
text2 <- subset(eye_table, subset = textnr == "2")
text3 <- subset(eye_table, subset = textnr == "3")
text4 <- subset(eye_table, subset = textnr == "4")
text5 <- subset(eye_table, subset = textnr == "5")
text6 <- subset(eye_table, subset = textnr == "6")
text7 <- subset(eye_table, subset = textnr == "7")
text8 <- subset(eye_table, subset = textnr == "8")
text9 <- subset(eye_table, subset = textnr == "9")
text10 <- subset(eye_table, subset = textnr == "10")
text11 <- subset(eye_table, subset = textnr == "11")
text12 <- subset(eye_table, subset = textnr == "12")
View(eye_table)
use_condaenv("thesis23")
py_config()
py_install("nltk", "thesis23")
.libPaths()
system("conda env list")
library(dplyr)
library(reticulate)
use_condaenv("./thesis")
library(dplyr)
library(reticulate)
use_condaenv("./thesis23")
library(dplyr)
library(reticulate)
use_condaenv("thesis23")
py_install("nltk", "./thesis23")
knitr::opts_chunk$set(echo = TRUE)
here::i_am("03_Rmd/Preprocessing.Rmd")
library(here)
library(dplyr)
library(reticulate)
use_condaenv("thesis23")
load(here("01_data", "meco L2", "primary data","eye tracking data","joint_data_l2_trimmed.rda"))
eye_table <- joint.data %>% select(uniform_id, lang, itemid, ianum, ia, skip, nfix, refix, dur, firstrun.dur, firstrun.gopast, firstrun.gopast.sel, firstfix.dur)
eye_table <- eye_table %>% rename("participant_id" = "uniform_id", "textnr" = "itemid", "tokenindex" = "ianum", "token"="ia")
eye_table <- eye_table %>% group_by(textnr, participant_id) %>% arrange(tokenindex, .by_group = TRUE) %>% distinct()
textlength <- eye_table %>% group_by(textnr, participant_id) %>% summarise(length=n(), .groups = "drop")
text1 <- subset(eye_table, subset = textnr == "1")
text2 <- subset(eye_table, subset = textnr == "2")
text3 <- subset(eye_table, subset = textnr == "3")
text4 <- subset(eye_table, subset = textnr == "4")
text5 <- subset(eye_table, subset = textnr == "5")
text6 <- subset(eye_table, subset = textnr == "6")
text7 <- subset(eye_table, subset = textnr == "7")
text8 <- subset(eye_table, subset = textnr == "8")
text9 <- subset(eye_table, subset = textnr == "9")
text10 <- subset(eye_table, subset = textnr == "10")
text11 <- subset(eye_table, subset = textnr == "11")
text12 <- subset(eye_table, subset = textnr == "12")
conda info --envs
py_config()
py_list_packages()
reticulate::repl_python()
View(eye_table)
View(eye_table)
text1 <- subset(eye_table, subset = textnr == "1")
text2 <- subset(eye_table, subset = textnr == "2")
text3 <- subset(eye_table, subset = textnr == "3")
text4 <- subset(eye_table, subset = textnr == "4")
text5 <- subset(eye_table, subset = textnr == "5")
text6 <- subset(eye_table, subset = textnr == "6")
text7 <- subset(eye_table, subset = textnr == "7")
text8 <- subset(eye_table, subset = textnr == "8")
text9 <- subset(eye_table, subset = textnr == "9")
text10 <- subset(eye_table, subset = textnr == "10")
text11 <- subset(eye_table, subset = textnr == "11")
text12 <- subset(eye_table, subset = textnr == "12")
reticulate::repl_python()
text_table <- function(nr){
text+nr <- subset(eye_table, subset = textnr == nr)
return(text+nr)
}
View(text_table)
text_table(1)
text_table <- function(name, nr){
name <- subset(eye_table, subset = textnr == nr)
return(name)
}
text_table(t1, 1)
text_table(t2, 2)
knitr::opts_chunk$set(echo = TRUE)
text_table <- function(nr){
text_nr = deparse(substitute(nr))
output_name = paste0("text",text_nr)
output_name <- subset(eye_table, subset = textnr == nr)
return(output_name)
}
knitr::opts_chunk$set(echo = TRUE)
here::i_am("03_Rmd/Preprocessing.Rmd")
library(here)
library(dplyr)
library(reticulate)
use_condaenv("thesis23")
load(here("01_data", "meco L2", "primary data","eye tracking data","joint_data_l2_trimmed.rda"))
eye_table <- joint.data %>% select(uniform_id, lang, itemid, ianum, ia, skip, nfix, refix, dur, firstrun.dur, firstrun.gopast, firstrun.gopast.sel, firstfix.dur)
eye_table <- eye_table %>% rename("participant_id" = "uniform_id", "textnr" = "itemid", "tokenindex" = "ianum", "token"="ia")
eye_table <- eye_table %>% group_by(textnr, participant_id) %>% arrange(tokenindex, .by_group = TRUE) %>% distinct()
textlength <- eye_table %>% group_by(textnr, participant_id) %>% summarise(length=n(), .groups = "drop")
text_table <- function(nr){
text_nr = deparse(substitute(nr))
output_name = paste0("text",text_nr)
output_name <- subset(eye_table, subset = textnr == nr)
return(output_name)
}
text_table(1)
text_table(1)
text_table(2)
text_table <- function(nr){
return(subset(eye_table, subset = textnr == nr))
}
text_table(11)
text11 <- text_table(11)
View(text11)
text1 <- text_table(1)
View(text1)
unique1 <- text1 %>% select(textnr, tokenindex, token) %>% distinct()
View(unique1)
unique1 <- text1 %>% select(textnr, tokenindex, token)
View(unique1)
unique1 <- eye_table %>% select(textnr, tokenindex, token)
View(unique1)
unique1 <- eye_table %>% ungroup() %>% select(textnr, tokenindex, token)
View(unique1)
unique1 <- eye_table %>% ungroup() %>% select(textnr, tokenindex, token) %>% distinct()
View(unique1)
unique1 <- text1 %>% ungroup() %>% select(textnr, tokenindex, token) %>% distinct()
View(unique1)
unique1 <- text1 %>% ungroup() %>% select(textnr, tokenindex, token) %>% distinct()
write.csv(unique1, here("05_output", "test.csv"))
unique1 <- text1 %>% ungroup() %>% select(textnr, tokenindex, token) %>% distinct()
write.csv(unique1, here("05_output", "text1_tokens.csv"))
reticulate::repl_python()
py_install("pandas", "./thesis23")
py_list_packages()
reticulate::repl_python()
read_csv = read.csv(here("05_output", "text1_tokens_scores.csv"))
View(read_csv)
read_csv = read.csv(here("05_output", "text1_tokens_scores.csv"))
read_csv = read.csv(here("05_output", "text1_tokens_scores.csv"))
merger <- read_csv %>% select(tokenindex, token, polarity_score, sentiment)
View(merger)
View(text1)
total <- merge(text1, merger, by=c("tokenindex", "token"))
View(total)
total <- merge(text1, merger, by=c("tokenindex", "token")) %>% group_by(textnr, participant_id) %>% arrange(tokenindex, .by_group = TRUE)
View(total)
knitr::opts_chunk$set(echo = TRUE)
here::i_am("03_Rmd/Preprocessing.Rmd")
library(here)
library(dplyr)
library(reticulate)
use_condaenv("thesis23")
load(here("01_data", "meco L2", "primary data","eye tracking data","joint_data_l2_trimmed.rda"))
eye_table <- joint.data %>% select(uniform_id, lang, itemid, ianum, ia, skip, nfix, refix, dur, firstrun.dur, firstrun.gopast, firstrun.gopast.sel, firstfix.dur)
eye_table <- eye_table %>% rename("participant_id" = "uniform_id", "textnr" = "itemid", "tokenindex" = "ianum", "token"="ia")
eye_table <- eye_table %>% group_by(textnr, participant_id) %>% arrange(tokenindex, .by_group = TRUE) %>% distinct()
text_table <- function(nr){
return(subset(eye_table, subset = textnr == nr))
}
text1 <- text_table(1)
unique1 <- text1 %>% ungroup() %>% select(textnr, tokenindex, token) %>% distinct()
write.csv(unique1, here("05_output", "text1_tokens.csv"))
reticulate::repl_python()
read_csv = read.csv(here("05_output", "text1_tokens_scores.csv"))
merger <- read_csv %>% select(tokenindex, token, polarity_score, sentiment)
total <- merge(text1, merger, by=c("tokenindex", "token")) %>%
group_by(textnr, participant_id) %>%
arrange(tokenindex, .by_group = TRUE)
View(total)
