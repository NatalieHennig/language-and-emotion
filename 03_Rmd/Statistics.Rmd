# Statistical Exploration

## Libraries
```{r message=FALSE, warning=FALSE}
library(lme4)
```

## Declare variables
```{r variables}
# data
article <- text1 %>% select(-c(nfix, refix))

# dependent variable
duration = article$dur
log_duration = log(duration)

# independent variable
valency = article$AAPz

# confounders
word_length = article$word_length
word_frequency = article$frequency
#predictability = TBD
POS = article$pos
```


## Correlation
```{r}
duration[is.na(duration)] <- 0
cor(word_length,duration)
```

### Log-Transformation
For the log-transformation, values that are *0*/*NA* must be adjusted.
There are multiple options for handling missing values. While they could be removed, this would lead to a loss of data.  
Another approach is to set it to a very low value, for example 1ms.
```{r}
hist(duration)
hist(log_duration)
```

## Regression
```{r}
lm(duration ~ valency)
```


```{r log_transform}
# Replace Inf and -Inf values with 0
log_duration[is.infinite(log_duration)] <- 0

result <- lm(log_duration ~ valency)
summary(result)
```

```{r}
t2 <- lmer(log_duration ~ valency + (1 + valency | word_length))
summary(t2)
```


```{r}
t2 <- lmer(dv ~ AAPz + (1 + AAPz | participant_id) + (1 + AAPz | word_length), data = text1)
summary(t2)
```

```{r error_convergence}
t2 <- lmer(dv ~ AAPz + (1 + AAPz | participant_id) + (1 + AAPz | word_length) + (1 + AAPz | frequency), data = text1)
```


